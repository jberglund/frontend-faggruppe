<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Fast Website - Good Practices</title>

    <!-- GOOD: Tell the browser what's important -->
    <link rel="preload" href="styles.css" as="style" />

    <!-- GOOD: Preload critical fonts to start downloading immediately -->
    <link
      rel="preload"
      href="/assets/fonts/Inter-Variable.ttf"
      as="font"
      type="font/ttf"
      crossorigin
    />
    <link
      rel="preload"
      href="/assets/fonts/GeistMono-Variable.ttf"
      as="font"
      type="font/ttf"
      crossorigin
    />

    <!-- GOOD: Load CSS normally (it's critical for layout) -->
    <link rel="stylesheet" href="styles.css" />

    <!-- GOOD: Optimized font loading with font-display: swap -->
    <style>
      @font-face {
        font-family: "Inter Variable";
        src: url("/assets/fonts/Inter-Variable.ttf")
          format("truetype-variations");
        font-weight: 1 999;
        font-style: normal;
        /* GOOD: font-display: swap shows fallback text immediately */
        /*font-display: swap;*/
      }

      @font-face {
        font-family: "Geist Mono";
        src: url("/assets/fonts/GeistMono-Variable.ttf")
          format("truetype-variations");
        font-weight: 1 999;
        font-style: normal;
        /* GOOD: font-display: swap prevents invisible text */
        /*font-display: swap;*/
      }
    </style>

    <style>
      body {
        /* GOOD: Fallback fonts show immediately while Inter loads */
        font-family:
          "Geist Mono",
          -apple-system,
          BlinkMacSystemFont,
          "Segoe UI",
          Roboto,
          Arial,
          sans-serif;
        margin: 0;
        padding: 20px;
        background-color: #f5f5f5;
      }

      .header {
        background: linear-gradient(45deg, #27ae60, #2ecc71);
        color: white;
        padding: 40px;
        text-align: center;
        border-radius: 10px;
      }

      .content {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 30px 0;
      }

      .card {
        background: white;
        padding: 20px;
        border-radius: 8px;
        box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
      }

      /* GOOD: Code blocks with proper fallbacks */
      code,
      pre {
        font-family:
          "Geist Mono", "SF Mono", Monaco, Inconsolata, "Roboto Mono", Consolas,
          "Courier New", monospace;
        background: #f8f9fa;
        padding: 2px 4px;
        border-radius: 3px;
      }

      /* Image styling */
      .hero-image {
        width: 100%;
        height: 300px;
        object-fit: cover;
        border-radius: 10px;
        margin: 20px 0;
      }

      .card img {
        width: 100%;
        height: 200px;
        object-fit: cover;
        border-radius: 5px;
        margin-bottom: 15px;
      }
    </style>
  </head>
  <body>
    <!-- This content shows immediately! -->
    <div class="header">
      <h1>This Website Loads Quickly âš¡</h1>
      <p>Content appears right away, JavaScript loads in the background</p>
    </div>

    <!-- GOOD: Hero image above the fold with modern formats -->
    <picture>
      <source
        srcset="/assets/images/optimized/placeholder-0.avif"
        type="image/avif"
      />
      <source
        srcset="/assets/images/optimized/placeholder-0.webp"
        type="image/webp"
      />
      <img
        src="/assets/images/original/placeholder-0.jpg"
        alt="Hero image"
        class="hero-image"
      />
    </picture>

    <div class="content">
      <div class="card">
        <!-- GOOD: Lazy loading for below-the-fold images -->
        <picture>
          <source
            srcset="/assets/images/optimized/placeholder-1.avif"
            type="image/avif"
          />
          <source
            srcset="/assets/images/optimized/placeholder-1.webp"
            type="image/webp"
          />
          <img
            src="/assets/images/original/placeholder-1.jpg"
            alt="CSS optimization"
            loading="lazy"
          />
        </picture>
        <h3>Solution 1: Smart CSS Loading</h3>
        <p>
          We preload important CSS and let the page render while other resources
          load.
        </p>
      </div>

      <div class="card">
        <!-- GOOD: Modern image formats with lazy loading -->
        <picture>
          <source
            srcset="/assets/images/optimized/placeholder-2.avif"
            type="image/avif"
          />
          <source
            srcset="/assets/images/optimized/placeholder-2.webp"
            type="image/webp"
          />
          <img
            src="/assets/images/original/placeholder-2.jpg"
            alt="JavaScript optimization"
            loading="lazy"
          />
        </picture>
        <h3>Solution 2: JavaScript at the Bottom</h3>
        <p>
          JavaScript loads after the content, so it doesn't block the page from
          showing.
        </p>
      </div>

      <div class="card">
        <h3>Solution 3: Optimized Font Loading</h3>
        <p>
          Text shows immediately with fallback fonts, then smoothly swaps to
          custom variable fonts. We use
          <code>font-display: swap</code> and preload hints.
        </p>
        <p>
          <code
            >This code text shows in Monaco/Consolas first, then upgrades to
            Geist Mono</code
          >
        </p>
      </div>

      <div class="card">
        <!-- GOOD: Optimized images with lazy loading -->
        <picture>
          <source
            srcset="/assets/images/optimized/placeholder-3.avif"
            type="image/avif"
          />
          <source
            srcset="/assets/images/optimized/placeholder-3.webp"
            type="image/webp"
          />
          <img
            src="/assets/images/original/placeholder-3.jpg"
            alt="Caching benefits"
            loading="lazy"
          />
        </picture>
        <h3>Solution 4: Proper Caching & Image Optimization</h3>
        <p>
          Variable font files are cached with long expiration times. Modern
          image formats (AVIF, WebP) provide 60-80% smaller file sizes than
          JPEG.
        </p>
        <p>
          Benefits: <code>~700KB saved on repeat visits + smaller images</code>
        </p>
      </div>
    </div>

    <footer style="text-align: center; margin-top: 40px">
      <p>Notice how much faster this feels! ðŸš€</p>
      <p><a href="bad.html">Compare with slow version</a></p>
    </footer>

    <!-- GOOD: JavaScript loads after content -->
    <script defer src="app.js"></script>
  </body>
</html>
